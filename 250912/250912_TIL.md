# 네트워크 통신

## JSON 개념
- 서버-클라이언트 통신에서 표준처럼 사용되는 데이터 교환 형식
- 사람이 읽기 쉽고 가벼움
- MAP 같은 간단한 구조
- 직렬화를 통한 문자열
- 대부분의 언어가 파싱 가능

## HTTP 개념(HypherText Transfer Protocol)
- 문서 전송용으로 설계된 상태 비저장용 프로토콜
- 웹 서버의 문서를 읽어오는 용도
- 지금은 서버와 클라이언트가 텍스트, 이미지, 동영상 등의 데이터를 주고 받을 때
  사용하는 프토로콜로 확장
- 이미지, 영상, 파일과 같은 바이너리 데이터도 HTTP 멀티 파트나 Base 64 인코딩하여 사용

### 무상태성
- HTTP는 상태 비저장 프로토콜
- 요청 메시지를 보내기 직전까지 대상 컴퓨터가 응답 가능한지 알 방법은 없음
- Stateless 프로토콜, 상태가 없는 프로토콜
- Stateful 프로토콜로는 TCP가 있음


**모든 HTTP 메시지는 요청과 응답이 일대일로 대응되어야 함**

장점) 클라이언트는 항상 자신이 보낸 요청에 대한 응답을 알 수 있음, 로직이 단순
단점) 클라이언트는 서버로 HTTP 요청을 보내기 직전까지 실제로 서버가 동작하는지 알 수 없음



## Socket을 사용한 저수준 엑세스
- 저수준: 컴퓨터가 이해하기 쉽게 작성된 프로그램 혹은 API
- TCP/UDP를 추상화한 개발자를 위한 API
- 프로토콜이 아님


## TCP

신뢰성 있는 연결지향성 앱에서 사용
- Stateful 프로토콜
- 연결되면 연결을 끊기 전까지 계속 메시지를 주고 받는 프로토콜
- 한쪽에 문제 생기면 다른 쪽에서 감지 가능
- 바이너리 데이터를 전송, 텍스트x
- 패킷 크기가 HTTP에 비해 작아서 속도는 빠름
- 각 요청이 소켓 1개를 공유
- 요청을 식별할 식별자가 필요
- 응답을 알 수 있는 방법이 없기 때문에 타임아웃에 대해 직접 구현

# TCP/IP
- socket을 사용하여 TCP/IP 통신을 할 수 있음
- 접속하기 위해 IP 주소와 포트 번호가 필요
- 프로토콜은 RFC 문서에 정해둔 것을 따름


## UDP

신속한 데이터 전송이나 손실 가능성이 있는 상황에 주로 사용
- 비연결형 프로토콜
- 데이터 전달 보장이 안되어 신뢰성 낮음
- 흐름 제어 없음
- 단순성
- 멀티캐스팅 및 브로드캐스팅


## 요청 메서드
- 요청의 형태를 정의하는 키워드
- 상황에 맞게 사용하는 것이 관례
  * GET : 데이터 요청
  * POST : 데이터가 포함된 요청
  * DELETE : 삭제
  * PUT : 전부 업데이트
  * PATCH : 일부 업데이트


## HTTP 요청 헤더
- 요청 정보를 파악하는 데에 도움이 되는 여러 다른 정보를 포함 가능
- 주로 인증, 캐싱, 클라이언트 힌트, 조건, 연결 관리, 쿠키, CORS 등에 활용
- JSON 파일을 주고 받을 때 Content-Type에 application/json으로 명시

## 상태 코드

- 모든 HTTP 응답에는 상태 코드와 상태 메시지가 있음
  * 200 OK
  * 400 Bad Request
  * 404 Not Found
  * 500 Internal Server Error

## 세션과 쿠기
- HTTP는 상태라는 개념이 존재하지 않아서 세션과 쿠키를 사용해 구분
- 주로 웹에서 서버는 세션, 클라이언트는 쿠키를 통해 상태 저장

## RESTful API
- 서버와 클라이언트가 메시지를 주고 받을 때 가장 많이 사용하는 통신 규격
- REST (representational state transfer)
- Rest : 분산 시스템을 위한 소프트웨어 아키텍처의 한 형태
- RESTful 이란 REST 조건을 만족한다는 뜻
- 요청 주소와 메서드, JSON 규격을 이용하여 API를 정의
- 오늘날 가장 범용적으로 사용