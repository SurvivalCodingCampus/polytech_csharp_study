- 데이터 소스를 모델로 정의하기 어려운 경우 (동적 JSON)
- 서버에서 잘못된 값을 보내는 경우
- 서버 API 변경으로 인한 필드 누락/제거
- 서버 장애 시 예상치 못한 응답 구조
- 클라이언트/서버 버전 불일치

=> 방어적 코드 작성 

# DTO(Data Transfer Object)

데이터 소스를 모델 클래스로 변환하는 과정에서 순수하게 클래스에 담기 위한 **중간 전달 객체**
JSON -> DTO -> Model

잘못된 데이터 소스를 받아도 터지지 않게 하려하는 클라이언트 개발자의 방어 수단

- 모든 필드가 Nullable 변수
- 직렬화, 역직렬화가 가능하도록 해야함

## 모델 클래스 역할 재정의
- 모든 필드는 non-nullable 상수
- Equals 재정의
- HashCode 재정의
- ToString() 재정의

# Mapper

**DTO를 모델 클래스로 변환**
순수한 데이터를 모델 클래스로 변환하기 위한 로직은 별도의 mapper를 통해 변환

- mapper는 DTO를 모델 클래스로 변환하는 유틸 메소드
- static 메소드나 확장함수 활용 추천
- Nullable을 non-Nullable로 변환
- **필요한 부분**만 변환


### DTO가 필요한 이유
- Model Class는 non-nullable 값만 가지도록 한다
- Json 데이터는 Null 값을 포함할 수 있음
- Map -> Model Class 변환 시 Null 값 등의 예외를 사전에 걸러내기가 용이
- 불완전한 코드가 포함될 것 같다면 DTO 도입 추천
- JSON 값에 예외가 없다면 반드시 DTO 도입할 필요는 없음