## TODAY NOTE C# [DataSource]  [ 25.09.09 ]

## 1. 왜 코드를 분리해야 하는가?

- 문제점: UI, 데이터, 로직이 한데 섞여 있으면 코드를 수정하고 유지보수하기 어렵습니다.

- 코드를 조금만 바꿔도 다른 곳에서 문제가 발생하는 스파게티 코드가 됩니다.

- 데이터(예: 아이템 능력치)를 바꾸기 위해 매번 코드를 수정하고 다시 빌드해야 합니다.

- 기획자나 아티스트가 데이터를 수정할 때마다 개발자에게 의존해야 하므로 협업 효율이 떨어집니다.

- 해결책: `데이터와 로직을 분리`하는 것입니다.

## 2. DataSource란?

- 정의: 앱이 사용하는 원천 데이터(raw data) 또는 그 `데이터를 가져오는 통로`를 의미합니다.

- 대부분의 앱은 외부에서 데이터를 받아와 화면에 보여주는 역할을 합니다.

- 역할: 외부 데이터 저장소와 직접 통신하며 데이터를 생성(Create), 읽기(Read), 수정(Update), 삭제(Delete)하는 CRUD 작업을 수행합니다.

- 종류: 데이터의 형태는 매우 다양합니다.

- 파일: .txt, 로컬 파일

- 정형 데이터: JSON, XML, CSV

- 데이터베이스: RDBMS (MySQL), NoSQL (MongoDB) 등

## 3. 구현 방법 및 유연한 설계

- DataSource를 구현하는 과정은 추상화를 통해 유연성을 확보하는 것이 중요합니다.

- 데이터 모델 정의: 저장할 데이터의 구조를 class로 먼저 정의합니다.

- `인터페이스(interface)` 정의: 데이터 소스의 기능을 정의합니다. 실제 데이터가 어디서 오는지 신경 쓰지 않고, "어떤 기능이 필요하다"는 약속만 정합니다.

- 인터페이스 이름에는 I 접두사를 붙이는 것이 일반적인 관례입니다 (예: IDateSource).

- 구현 클래스 작성: 정의된 인터페이스의 실제 기능을 클래스로 구현합니다.

- 이렇게 인터페이스를 사용하면, 나중에 데이터 저장 방식을 로컬 파일( JsonFileDataSource)에서 데이터베이스(DatabaseUserDataSource)로 바꾸더라도, 다른 코드에 미치는 영향을
  최소화하며 유연하게 변경할 수 있습니다.

## 4. 정리

- `DataSource` : 로직과 데이터를 분리하여 유지보수성과 협업 효율을 크게 향상시키는 중요한 설계 방법

- 유니티의 PlayerPrefs 기능도 DataSource의 한 형태로 볼 수 있음

