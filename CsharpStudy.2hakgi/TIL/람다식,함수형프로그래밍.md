## 람다식, 함수형 프로그래밍

### ✅ 1급 객체 (First-class Object)

- **정의**: 함수를 변수에 담거나, 매개변수로 전달하거나, 반환값으로 사용할 수 있는 객체
- C#, Java 등에서 지원

```csharp
Func<int,int,int> f = (a,b) => a+b;  // 함수 자체를 값처럼 취급 가능
```

---

### ✅ 시그니처 (Signature)

- **함수나 메서드의 입력과 출력의 형태**를 나타내는 것
- **입력(매개변수) 타입과 개수 + 반환값(리턴 타입)**으로 결정됨
- 델리게이트, 람다식, 메서드 그룹 참조에서는 **시그니처가 일치해야 할당 가능**

```csharp
int Add(int a, int b) { return a + b; }  // 시그니처: (int,int) -> int
void Print(string msg) { Console.WriteLine(msg); }  // 시그니처: (string) -> void
```

---

### ✅ 람다식 (Lambda Expression)

- **익명 함수 표현**: 간단하게 함수/메서드 표현 가능
- **Func, Action, 델리게이트 등**에 할당 가능

```csharp
Func<int,string> myFunc = age => $"나는 {age}살입니다";  // input, output 있음
Func<int,int> f = x => 2*x + 3;                          // 수식 표현
Action click = () => Console.WriteLine("클릭 되었습니다"); // input, output 없음
```

---

### ✅ Func / Action

- **Func**: 반환값이 있는 람다용 델리게이트
    - 마지막 타입이 반환값

    ```csharp
    Func<int,int,int> myFunc2 = Math.Max;  // 메서드 그룹 참조 가능
    Func<int,int> f = x => 2*x + 3;
    ```

- **Action**: 반환값 없는 람다용 델리게이트 (`void`)

    ```csharp
    Action click = () => Console.WriteLine("클릭됨");
    Action noInputOutputFunc = NoInputOutputFunc;
    ```


---

### ✅  메서드 그룹 참조 (Method Group)

- **메서드 이름만 델리게이트 타입에 대입 가능**
- 조건: **델리게이트 시그니처와 메서드 시그니처 일치**

```csharp
Func<int,int,int> myFunc2 = Math.Max;  // (int,int) -> int
Action printer = Console.WriteLine;    // (string) -> void
OnClick noInputOutputFunc = NoInputOutputFunc; // input/output 없음
```

---

### ✅ 델리게이트 (Delegate)

- **정의**: 메서드 시그니처를 타입으로 표현한 **타입 안전 함수 포인터**
- **멀티캐스트 델리게이트** 가능: 같은 시그니처 메서드를 `+=`로 연결해 순차 호출 가능

```csharp
public delegate void OnClick();
OnClick click1 = () => Console.WriteLine("클릭1");
OnClick click2 = () => Console.WriteLine("클릭2");
click1 += click2;   // 두 함수 순차 호출
click1();
```

---

### ✅ var 활용한 타입 추론

- 람다식 작성 시 타입을 생략 가능 (`var`)

```csharp
var myFunc4 = (int x, int y) => x + y;  //Func<int,int,int> 추론
var myFunc5 = () => { Console.WriteLine("출력"); }; //Action 추론
var myFunc6 = (string name) => { Console.WriteLine(name); }; //Action<string> 추론
```

---

### ✅ 실습 예제

```csharp
Program program = new Program();

// 델리게이트 + 람다
OnClick onClick = () => Console.WriteLine("클릭 되었습니다");
program.SetOnClick(onClick);

// 메서드 그룹 참조
program.SetOnClick(NoInputOutputFunc);

// 직접 람다 작성
program.SetOnClick(() => Console.WriteLine("바로 작성"));

// 리스트에 메서드 참조 전달
var list = new List<int> {1,2,3};
list.ForEach(Console.WriteLine);  // Action<int> 전달
```

---

### ✅ 고계 함수(higher-order function)

- 고계함수는 함수를 다루는 함수를 말한다. **즉, 다른 함수를 파라미터로 받는 함수이다**
- C# 의 LINQ(Language Integrated Query)에서 제공되는 고계 함수


| 함수 | 역할 | 예시 |
| --- | --- | --- |
| **Where** | 조건에 맞는 요소만 필터링 | `list.Where(x => x > 5)` |
| **Select** | 각 요소를 변환 | `list.Select(x => x.ToString())` |
| **ForEach** | 전체 요소를 순회 | `list.ForEach(x => Console.WriteLine(x))` |
| **Aggregate** | 하나의 값으로 줄이기 | `list.Aggregate((a,b) => a+b)` |
| **Any** | 조건을 만족하는 요소가 있는지 확인 | `list.Any(x => x % 2 == 0)` |

---

### ✅ Recap

- **1급 객체**: 함수도 값처럼 다룸
- **시그니처**: 함수의 입력/출력 형태
- **람다식**: 익명 함수, 간단히 표현
- **Func/Action**: 함수 저장 타입
    - **Func**: 반환값 있음
    - **Action**: 반환값 없음
- **메서드 그룹 참조**: 메서드 이름만 참조
- **델리게이트**: 타입 안전한 함수 포인터, 멀티캐스트 가능
- **var**: 타입 추론, 코드 간결
- **고계함수**: 함수를 매개변수로 받는 함수