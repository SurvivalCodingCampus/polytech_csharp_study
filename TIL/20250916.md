# 20250916 수업내용 정리

## Result 패턴

### 서버에 데이터 요청시 예상되는 상황
* 성공
* 실패 - 실패의 종류는 하나가 아니다.
  * 네트워크 연결이 아예 안되어 있는 경우
  * 네트워크 불안정으로 타임아웃이 발생하는 경우
  * 논리적으로 잘못된 값
  * 자신이 판단했을 때 에러
  * 등

### 에러처리의 기본은 try-catch
기본적으로 예외는 try-catch를 활용. 

런타임 에러 뿐만 아니라 논리적인 오류나 예외 상황에 대한 처리를 하기에는 부족하다.

Result 패턴은 여러가지 성공, 실패를 처리할 때 유용한 패턴.

### Result
* Result 클래스는 성공시에는 데이터를, 실패시에는 에러 정보를 담는 객체를 정의한다.
* record는 불변, 동등성 비교(Euals, HashCode), ToString 재정의 효과를 가지는 class의 형태
* sealed 클래스는 타입 봉인 효과를 가진다(enum하고 비슷한 효과, 다른 객체의 참조를 가질 수 있다.)
* ex) class A {}

     sealed class B : A {}
* 에러 타입을 enum 등으로 정의
  * Respository에서는 상세 에러를 알려주기 어렵다.
  * Repository는 Result타입을 반환, 성공시 앞의 타입을 실패시 뒤의 타입을
  * 코드만 봐도 어떤 에러가 발생할지 알기 때문에 코드가 문서화 되는 효과
  * Switch 문과 조합하여 성공/실패를 처리, 타입을 먼저 체크하고 변수 작성시 캐스팅


### Result 패턴 사용시 장점
* 타입 안전성 향상
* 명확한 분기 처리
* 에러 처리 누락 방지 유도

* sealed class는 서브타입을 봉인한다.
* sealed class는 패턴매칭을 활용하여 모든 서브타입에 대한 처리를 하기 용이하다.
* 앱의 규모에 맞게 Result 패턴을 사용
