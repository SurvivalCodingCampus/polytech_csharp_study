# 20250912 수업내용 정리

## 네트워크 통신
* 네트워크 기초 이론
  * HTTP요청 , URI의 정의 및 용도 알기
  * RESTful API
* http(get, post, put, patcj, delet..)개념 정리
* http통신 기초

* 고수준 : 사람이 이해하기 쉽게 작성된 프로그램 또는 API

### JSON 개념
* 서버-클라이언트 통신에서 표준처럼 사용되는 데이터 교환형식
* 가볍고 사람이 읽기 쉽다
* Map과 같은 간단한 구조
* 직렬화하여 문자열로 나타내기 쉽다
* 대부분의 언어가 이를 파싱할 수 있기 때문에 상호 운용성은 걱정할 것이 없다

### HTTP 개념
* Hyper Text Transfer Protocol
* 원래 문서 전송용으로 설계된 상태 비저장용 프로토콜
* 브라우저가 GET 요청으로 웹 서버의 문서를 읽어오는 용도
* 서버와 클라이언트가 텍스트, 이미지, 동영상 등의 데이터를 주고 받을 떄 사용하는 프로토콜로 확장
* 웹 상에서 보는 이미지, 영상, 파일과 같은 바이너리 데이터도 HTTP 멀티파트나 Base64 인코딩하여 사용
* 비연결성으로 정보를 주고 받음

### HTTP와 함께 사용하는 다른 기술
* JSON 등을 HTTP와 함께 사용하는 RESTful API
* HTTP에 전송 계층 보안 (TLS: Transport Layer Security)을 더해 만든 HTTPS
* S가 붙어 보완이 강화

### 네트워크 OSI-7 계층
* 네, OSI 7계층은 네트워크 통신 과정이 단계별로 이루어지는 참조 모델

### 무상태성
* HTTP는 상태 비저장 프로토콜
* HTTP는 요청 메시지를 보내기 직전까지 대상 컴퓨터가 응답 가능한지 알 방법이 없음
* Stateless 프로토콜, 즉 상태가 없는 프로토콜
* Stateful 프로토콜로는 TCP(Transmission Control Protocl)가 있음
* 항상 서버랑 연결이 되어 있는지 아닌지 TCP는 알수 있음

### HTTP요청과 응답
* 모든 HTTP메시지는 요청과 응답이 일대일로 대응
* client -> server : Request
* server -> client : Response
* 클라이언트는 항상 자신이 보낸 요청에 대한 응답을 바로 알수 있어 로직이 단순해 지는 장점
* 클라이언트는 서버로 HTTP 요청을 보내기 직전까지 실제로 서버가 동작하는지 알 방법이 없는 단점
* 타임아웃 : 서버가 먹통이거나 오래 걸려 응답이 오지 않아 끊기는 기능

### 실무에서의 HTTP 응답 없음
* 실제로 서버가 제대로 처리를 했어도 응답이 늦게 와서 타임아웃 나는 경우도 있음
* android의 경우 10초 이내 응답이 없으면 타임아웃으로 간주
* ios는 60초
* 타임아웃 날걸 대비해야함

### 예측이 어려운 HTTP 응답 없음
* 서버가 다른 국가에 있는 경우
* 클라우드 기반의 서버
* MockServer를 활용한 테스트 필요
* 지연 시간을 테스트할 필요가 있으며, 타임아웃 기준이 다를 경우 가장 짧은 것에 맞춰 테스트

### 그 외 통신 프로토콜
* TCP와 UDP

### Socket을 사용한 저수준 액세스
* 저수준 : 컴퓨터가 이해하기 쉽게 작성된 프로그램 또는 API
* TCP / UDP를 추상화한 개발자를 위한 API
* 프로토콜이 아니며 OSI 7 계층에 포함되지 않음
* api → 소켓 이름
* 소켓을 쓰겠다는 건 tcp와 udp를 사용하겠다 라는 말

### TCP
신뢰성 있는 연결지향성 앱에서 사용(이메일, 파일 전송, 웹브라우저)
* Stateful 프로토콜
* 연결되면 연결을 끊기 전까지 계속 메시지를 주고 받는 프로토콜
* 한쪽에 문제가 생기면 다른쪽에서 감지 가능
* 텍스트가 아닌 바이너리(이진수) 데이터를 전송
* 페킷 크기가 HTTP에 비해 작음 -> 속도 빠름
* 각 요청이 소켓 1개를 공유 (HTTP는 각 요청이 소켓 1개씩 사용)
* 요청을 식별할 식별자가 필요
* 응답을 알수 있는 방법이 없기 때문에 타임아웃에 대해 직접 구현
* TCP는 HTTP보다 빠르지만 개발자가 할 일이 많음
* HTTP는 로직이 간단하지만 TCP보다는 느림

### TCP / IP
* Socket을 사용하여 TCP/IP 통신을 할 수 있음
* 접속하기 위해 IP 주소와 포트 번호 필요
* 프로토콜(통신시 사용되는 데이터 형식이나 순서 등)은 RFC 문서에 정해둔 것을 따름
* 웹페이지 접속, 메일 전송, 게임 등은 모두 TCP/IP를 통한 통신에 의해 이루어짐
* 포트 번호는 컴퓨터가 여러 통신을 동시에 처리하기 위해 사용하는 통신 구멍의 역할, 한 번에 여러 통신이 가능

### UDP
신속한 데이터 전송이나 손실 가능성이 있는 상황에 주로 사용
* 비연결형 프로토콜
* 데이터 전달 보장이 안되어 신뢰성이 낮음
* 흐름 제어 없음
* 단순성
* 멀티캐스팅 및 브로트 캐스팅
* 다른 사람에게 영향을 미치지 않도록 하기 위해 버릴건 버리고, 느린건 느린대로 빠른건 빠른대로 처리
* TCP의 경우 렉이 걸리는건 느린 사람에게 맞추기 때문

### 요청 메서드
* 요청의 형태를 정의하는 키워드
* 상황에 맞게 사용한느 것이 관례
  * GET: 데이터 요청
  * POST: 데이터가 포함된 요청
  * DELETE: 삭제
  * PUT: 전부 업데이트
  * PATCH: 일부 업데이트

### GET
* 일반적으로 웹 브라우저가 서버에 웹 페이지를 요청할 때 사용
* 읽기 요청
* body를 포함할 수 없음
* ?와 &문자를 사용하는 쿼리 파라미터를 추가할 수 있다

### POST
* 웹브라우저로 테스트 불가
* 클라이언트에서 서버로 데이터가 포함된 요청을 보낼 때 사용
* 로그인, 주문 요청 등
* 쿼리 파라미터뿐만 아니라 body로 데이터 전송

### DELETE, PUT, PATCH
* 웹브라우저로 테스트 불가
* DELETE: 삭제
* PUT: 전체 업데이트
* PATCH: 일부 업데이트

### HTTP 요청 헤더
* 요청 정보를 파악하는데 도움이 되는 다른 여러 정보를 포함할 수 있음
* 주로 인증, 캐싱, 클라이언트 힌트, 조건, 연결관리, 쿠기, CORS 등에 활용
* JSON 파일을 주고 받을 때 Content-Type에 application/json으로 명시

### 상태 코드
* 모든 HTTP 응답에는 상태 코드와 상태 메시지가 있음
* 200: OK
* 400: Bad Request
* 404: Not Found
* 500: Internal Server Error

### 세션과 쿠기
* HTTP는 상태란느 개념이 존재하지 않기 때문에 세션과 쿠기를 사용해 구분
* 주로 웹에서는 세션, 클라이언트는 쿠키를 통해 상태 저장
* 모바일에 없는 개념: SharedPreference 등으로 구현

### RESTful API
* 서버와 클라이언트가 메시지를 주고받을 때 가장 많이 사용하는 통신규격(암묵적인 룰)
* REST(representational state transfer): 분산 시스템을 위한 소프트웨어 아키텍처의 한 형태
* RESTful이란 REST조건을 만족한다는 뜻
* 요청 주서(URL)과 메서드(GET, POST 등), JSON 규격을 이용하여 API를 정의
* 오늘날 가장 범용적으로 사용

### 요청코드는 대부분 중복이라 리팩토링 가능
